"use strict";(self.webpackChunkparfay=self.webpackChunkparfay||[]).push([[98],{6098:(J,c,i)=>{i.r(c),i.d(c,{ChatModule:()=>S});var s=i(8583),r=i(4655),e=i(7716);let g=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-chat"]],decls:1,vars:0,template:function(n,o){1&n&&e._UZ(0,"router-outlet")},directives:[r.lC],styles:[""]}),t})();var m=i(3514),u=i(6199),d=i(1436),p=i(8295),v=i(3166),f=i(6109),T=i(1552);function h(t,a){1&t&&e.GkF(0)}function Z(t,a){1&t&&e.GkF(0)}function x(t,a){1&t&&e.GkF(0)}function _(t,a){if(1&t&&(e.ynx(0),e.TgZ(1,"div",6),e.YNc(2,h,1,0,"ng-container",7),e.YNc(3,Z,1,0,"ng-container",7),e.YNc(4,x,1,0,"ng-container",7),e.qZA(),e.BQk()),2&t){e.oxw();const n=e.MAs(2),o=e.MAs(6),l=e.MAs(10);e.xp6(2),e.Q6J("ngTemplateOutlet",n),e.xp6(1),e.Q6J("ngTemplateOutlet",o),e.xp6(1),e.Q6J("ngTemplateOutlet",l)}}function C(t,a){if(1&t&&(e.TgZ(0,"div",8),e.TgZ(1,"div",9),e.TgZ(2,"div",10),e._UZ(3,"img",11),e.qZA(),e.TgZ(4,"div",12),e._uU(5),e.qZA(),e.qZA(),e.qZA()),2&t){const n=e.oxw();e.xp6(5),e.hij(" ",null==n.targetUser?null:n.targetUser.alias," ")}}function A(t,a){if(1&t&&(e.TgZ(0,"div",13),e.TgZ(1,"div",14),e.TgZ(2,"div",10),e._UZ(3,"img",11),e.qZA(),e.TgZ(4,"div",12),e._uU(5),e.qZA(),e.qZA(),e.qZA()),2&t){const n=e.oxw();e.xp6(5),e.hij(" ",null==n.targetUser?null:n.targetUser.alias," ")}}function M(t,a){1&t&&e.GkF(0)}const y=function(t){return{$implicit:t}};function U(t,a){if(1&t&&(e.TgZ(0,"div",18),e.YNc(1,M,1,0,"ng-container",19),e.qZA()),2&t){const n=a.$implicit;e.oxw(2);const o=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,y,n))}}function O(t,a){if(1&t&&(e.TgZ(0,"div",12),e.TgZ(1,"div",15),e.TgZ(2,"div",16),e.YNc(3,U,2,4,"div",17),e.qZA(),e.qZA(),e.qZA()),2&t){const n=e.oxw();e.xp6(3),e.Q6J("ngForOf",n.displayedMessages)}}function P(t,a){if(1&t&&(e.TgZ(0,"div",20),e.TgZ(1,"div",21),e.TgZ(2,"span",22),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"div",12),e.TgZ(5,"sub",23),e.ALo(6,"date"),e.TgZ(7,"i"),e._uU(8),e.ALo(9,"date"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",15),e.TgZ(11,"div",12),e._uU(12),e.qZA(),e.qZA()),2&t){const n=a.$implicit;e.xp6(3),e.Oqu(null==n?null:n.sourceAlias),e.xp6(2),e.s9C("matTooltip",e.xi3(6,4,null==n?null:n.date,"EEEE, MMMM d, y h:mm:ss a")),e.xp6(3),e.Oqu(e.xi3(9,7,null==n?null:n.date,"MMM d, y")),e.xp6(4),e.hij(" ",null==n?null:n.message," ")}}function q(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",21),e.TgZ(1,"div",15),e.TgZ(2,"div",12),e.TgZ(3,"mat-form-field",24),e.TgZ(4,"textarea",25,26),e.NdJ("keydown.enter",function(l){return l.preventDefault()})("keyup.enter",function(){e.CHM(n);const l=e.MAs(5);return e.oxw().sendMessage(l)}),e.qZA(),e.TgZ(7,"mat-icon",27),e._uU(8,"sentiment_very_satisfied"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=e.oxw();e.xp6(4),e.Q6J("placeholder","Message "+(null==n.targetUser?null:n.targetUser.alias))}}const N=[{path:"",component:g,children:[{path:"",redirectTo:"private",pathMatch:"full"},{path:"private",component:(()=>{class t{constructor(n,o){this.ogreService=n,this.messageService=o,this.targetUser=void 0,this.displayedMessages=[]}ngOnInit(){this.ogreService.onTargetUserUpdated().subscribe(n=>{this.targetUser=n,this.targetUser&&(this.displayedMessages=this.messageService.getMessagesById(this.targetUser.id),this.messagesSubscription&&this.messagesSubscription.unsubscribe(),this.messagesSubscription=this.messageService.onMessageById(this.targetUser.id).subscribe(o=>{this.displayedMessages.push(o)}))})}sendMessage(n){this.ogreService.sendMessage(n.value),n.value=""}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(m.B),e.Y36(u.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-private"]],decls:11,vars:1,consts:[[4,"ngIf"],["selectedUserNavTemplate2",""],["selectedUserNavTemplate",""],["displayedMessagesTemplate",""],["displayedMessageTemplate",""],["inputTemplate",""],[1,"row","vh-100","flex-column"],[4,"ngTemplateOutlet"],[1,"bg-3","col-auto"],[1,"row","align-items-center","ps-3","pt-1"],[1,"col-auto","my-1"],["src","assets/logo/parfay.svg","width","20px",2,"filter","invert(1) contrast(0.5)","mix-blend-mode","difference"],[1,"col"],[1,"col-auto","bg-3"],[1,"row","align-items-center","mt-1"],[1,"row"],[1,"col","g-0",2,"overflow","auto"],["class","py-2 px-3 hover-highlight",4,"ngFor","ngForOf"],[1,"py-2","px-3","hover-highlight"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"g-2","mb-1","row","align-items-end"],[1,"col-auto"],[2,"font-weight","500"],[3,"matTooltip"],["appearance","fill",1,"w-100"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1",3,"placeholder","keydown.enter","keyup.enter"],["messageBox","","autosize","cdkTextareaAutosize"],["matSuffix",""]],template:function(n,o){1&n&&(e.YNc(0,_,5,3,"ng-container",0),e.YNc(1,C,6,1,"ng-template",null,1,e.W1O),e.YNc(3,A,6,1,"ng-template",null,2,e.W1O),e.YNc(5,O,4,1,"ng-template",null,3,e.W1O),e.YNc(7,P,13,10,"ng-template",null,4,e.W1O),e.YNc(9,q,9,1,"ng-template",null,5,e.W1O)),2&n&&e.Q6J("ngIf",o.targetUser)},directives:[s.O5,s.tP,s.sg,d.gM,p.KE,v.Nt,f.IC,T.Hw,p.R9],pipes:[s.uU],styles:[""]}),t})()}]}];let w=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[r.Bz.forChild(N)],r.Bz]}),t})();var Y=i(4466),F=i(9945);let S=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[s.ez,w,Y.m,F.q]]}),t})()}}]);